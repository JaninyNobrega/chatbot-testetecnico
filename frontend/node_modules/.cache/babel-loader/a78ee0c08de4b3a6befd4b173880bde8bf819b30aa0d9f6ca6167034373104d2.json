{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\chatbot-testetecnico\\\\frontend\\\\src\\\\pages\\\\HistoryPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './HistoryPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HistoryPage({\n  activeUser\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetch(`http://localhost:8000/api/messages/?user=${activeUser}`).then(res => res.json()).then(data => {\n      setMessages(data);\n      setLoading(false);\n    }).catch(() => {\n      alert('Erro ao carregar histÃ³rico!');\n      setLoading(false);\n    });\n  }, [activeUser]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"history-page\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 53\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"history-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"\\uD83D\\uDCCB Hist\\xF3rico - Usu\\xE1rio \", activeUser]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [messages.length, \" mensagens\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-list\",\n      children: messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: msg.is_response ? 'ðŸ¤– Sistema' : 'ðŸ‘¤ UsuÃ¡rio'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: new Date(msg.timestamp).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this)]\n      }, msg.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(HistoryPage, \"iENrkQA4ceL8nzHtV8t1eR+7xGM=\");\n_c = HistoryPage;\nexport default HistoryPage;\nvar _c;\n$RefreshReg$(_c, \"HistoryPage\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","HistoryPage","activeUser","_s","messages","setMessages","loading","setLoading","fetch","then","res","json","data","catch","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","msg","is_response","content","Date","timestamp","toLocaleString","id","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/chatbot-testetecnico/frontend/src/pages/HistoryPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './HistoryPage.css';\n\nfunction HistoryPage({ activeUser }) {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch(`http://localhost:8000/api/messages/?user=${activeUser}`)\n      .then(res => res.json())\n      .then(data => {\n        setMessages(data);\n        setLoading(false);\n      })\n      .catch(() => {\n        alert('Erro ao carregar histÃ³rico!');\n        setLoading(false);\n      });\n  }, [activeUser]);\n\n  if (loading) return <div className=\"history-page\"><p>Carregando...</p></div>;\n\n  return (\n    <div className=\"history-page\">\n      <h2>ðŸ“‹ HistÃ³rico - UsuÃ¡rio {activeUser}</h2>\n      <p>{messages.length} mensagens</p>\n      \n      <div className=\"history-list\">\n        {messages.map((msg) => (\n          <div key={msg.id} className=\"history-item\">\n            <strong>{msg.is_response ? 'ðŸ¤– Sistema' : 'ðŸ‘¤ UsuÃ¡rio'}</strong>\n            <p>{msg.content}</p>\n            <small>{new Date(msg.timestamp).toLocaleString()}</small>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default HistoryPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,SAASC,WAAWA,CAAC;EAAEC;AAAW,CAAC,EAAE;EAAAC,EAAA;EACnC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACdU,KAAK,CAAC,4CAA4CN,UAAU,EAAE,CAAC,CAC5DO,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;MACZP,WAAW,CAACO,IAAI,CAAC;MACjBL,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDM,KAAK,CAAC,MAAM;MACXC,KAAK,CAAC,6BAA6B,CAAC;MACpCP,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,CAACL,UAAU,CAAC,CAAC;EAEhB,IAAII,OAAO,EAAE,oBAAON,OAAA;IAAKe,SAAS,EAAC,cAAc;IAAAC,QAAA,eAAChB,OAAA;MAAAgB,QAAA,EAAG;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAE5E,oBACEpB,OAAA;IAAKe,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAC3BhB,OAAA;MAAAgB,QAAA,GAAI,yCAAuB,EAACd,UAAU;IAAA;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC5CpB,OAAA;MAAAgB,QAAA,GAAIZ,QAAQ,CAACiB,MAAM,EAAC,YAAU;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAElCpB,OAAA;MAAKe,SAAS,EAAC,cAAc;MAAAC,QAAA,EAC1BZ,QAAQ,CAACkB,GAAG,CAAEC,GAAG,iBAChBvB,OAAA;QAAkBe,SAAS,EAAC,cAAc;QAAAC,QAAA,gBACxChB,OAAA;UAAAgB,QAAA,EAASO,GAAG,CAACC,WAAW,GAAG,YAAY,GAAG;QAAY;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eAChEpB,OAAA;UAAAgB,QAAA,EAAIO,GAAG,CAACE;QAAO;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpBpB,OAAA;UAAAgB,QAAA,EAAQ,IAAIU,IAAI,CAACH,GAAG,CAACI,SAAS,CAAC,CAACC,cAAc,CAAC;QAAC;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,GAHjDG,GAAG,CAACM,EAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIX,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjB,EAAA,CAnCQF,WAAW;AAAA6B,EAAA,GAAX7B,WAAW;AAqCpB,eAAeA,WAAW;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}